#include <avr/io.h>
#include <avr/interrupt.h>
#include <util/delay.h>
void init_timer1();
unsigned char sec;
unsigned char num_seconds1;
unsigned char num_seconds2=0;
unsigned char num_minutes1=0;
unsigned char num_minutes2=0;
unsigned char num_hours1=0;
unsigned char num_hours2=0;
unsigned char num_seconds1_flag;
unsigned char num_seconds2_flag=0;
unsigned char num_minutes1_flag=0;
unsigned char num_minutes2_flag=0;
unsigned char num_hours1_flag=0;
unsigned char num_hours2_flag=0;
void display_all();
int main(){
	DDRC |= 0x0F;
	DDRA |= 0b00111111;
	init_timer1();
	while(1){

//display_all();


	}

}


void init_timer1(){
	SREG |= (1<<7);
	TIMSK |= (1<<OCIE1A);
	TCCR1A = (1<<FOC1A);
	TCNT1=0;
	OCR1A=1000;
	TCCR1B= (1<<WGM12) | (1<<CS12) | (1<<CS10);
}



ISR(TIMER1_COMPA_vect){
if(num_seconds1 !=9){
	num_seconds1++;
	PORTA |= (1<<PA5);
	PORTC = (PORTC&0xF0) | (num_seconds1&0x0F);

}
else {
    num_seconds2_flag=1;
	num_seconds1=0;
    num_seconds2++;
    PORTA |= (1<<PA5);
    PORTC = (PORTC&0xF0) | (num_seconds2&0x0F);

}





}




void display_all(){
	PORTA |= 0b00111111;
}





